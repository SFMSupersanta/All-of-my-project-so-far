<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC
    '-//W3C//DTD XHTML 1.0 Transitional//EN'
    'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'>
<html lang="en-us" xmlns='http://www.w3.org/1999/xhtml'>
<head>
   <title>Seneca | School of Computer Studies | Programming Fundamentals Using C</title>

   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
   <meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />

   <meta name="Copyright" content="(c) Copyright Seneca College 2004" />
   <meta name="Description" content="Welcome to the Bachelors Degree of Software Development Program Web Site.  On this site you can find the introductory programming course.  Designed by Chris Szalwinski." />
   <meta name="Abstract" content="This subject reviews the principles of procedural programming.  Students study the solution of problems using structured programming techniques with the C programming language.  The emphasis throughout is on the solution of small problems."/>
   <meta name="Author" content="chris.szalwinski@senecac.on.ca"/>
   <meta name="Keywords" content="sofware development, procedural programming, lecture notes"/>

   <link rel="stylesheet" type="text/css" href="style.043.css" tppabs="http://cs.senecac.on.ca/~btp100/pages/style.043.css">
   <link rel="stylesheet" type="text/css" href="styleSPrint.043.css" tppabs="http://cs.senecac.on.ca/~btp100/pages/styleSPrint.043.css" media="screen">
   <link rel="stylesheet" type="text/css" href="stylePPrint.043.css" tppabs="http://cs.senecac.on.ca/~btp100/pages/stylePPrint.043.css" media="print">
</head>

<body>

<table cellspacing="0" cellpadding="0">

   <!-- Body Cell -->
   <tr height="600">
      <!-- Content Area -->
      <td class="tbody" bgcolor="ffffff">
         <table cellpadding="10" width="100%">
            <tr>
               <td bgcolor="ffffff" valign="top">
               <br />
               <center><span class=texth>Module E - Standard Libraries</span>
               <br />
               <br />
               <span class=texthead>
               Library Functions</span>
               <br />
               <br />
               <span class=textagend>
               Analyze small problems that lend themselves to a
               programming solution, design algorithms to solve
               these problems and create programs to implement
               these solutions
               <br /><br />
               </span>
               <p class=quote></p>
               <span class=textagend>
               <a href="#std">Standard</a> |
               <a href="#tim">Time</a> |
               <a href="#exa">In-Class Practice</a> |
               <a href="#mat">Math</a> |
               <a href="#cha">Character</a> |
               <a href="#exe">Exercises</a>
               </span>
               </center>
               <br />
               <br />

               <p>
               The standard C libraries include functions to perform mathematical calculations,
               character analysis and character manipulation.&nbsp;
               The more common functions are listed here.&nbsp; For a comprehensive
               list, see <a href="javascript:if(confirm('http://www-cse.ucsd.edu/users/kube/stdc  \n\nThis file was not retrieved by Teleport Pro, because it is addressed on a domain or path outside the boundaries set for its Starting Address.  \n\nDo you want to open it from the server?'))window.location='http://www-cse.ucsd.edu/users/kube/stdc'" tppabs="http://www-cse.ucsd.edu/users/kube/stdc">Standard Reference Library</a>.
               </p>
               <p>
               The standard libraries are not part of the language proper.</p>
               <br />

               <p id=std class="section">Standard</p>
               <p>
               The prototypes for the more popular standard functions are in <span class=code>&lt;stdlib.h&gt;</span>.</p>
               <p class="ssection">Integer Absolute Value</p>
               <p>
               <span class=code>abs, labs, llabs</span> return the absolute value of the integer value received.</p>
               Their prototypes are
               <pre class=defin>
 int abs ( int );
 long labs ( long );
 long long llabs ( long long );</pre>
               <p>
               For example, the following program produces the output on the right
               <table width="95%">
               <tr>
               <td width="50%">
               <br />
               <pre>
 <span class=high>#include &lt;stdlib.h&gt;</span>
 #include &lt;stdio.h&gt;

 int main ( ) {
     int x = -12;

     printf("|%d| is %d\n", x, <span class=high>abs(x)</span>);&nbsp;
     return 0;
 }</pre><br /></td>
               <td width="50%">
               <br />
               <pre class=result>
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 |-12| is 12
 &nbsp;
 </pre><br /></td></tr></table></p>

               <p class="ssection">Random Number</p>
               <p>
               <span class=code>rand</span>
               returns a pseudo-random integer in the range <span class=code>0</span> to
               <span class=code>RAND_MAX</span>.&nbsp; <span class=code>RAND_MAX</span> is implementation
               dependent but at least <span class=code>32767</span>.&nbsp;
               The prototype is
               <pre class=defin>
 int rand ( void );</pre>
               <span class=code>rand</span> without
               <span class=code>srand</span> (see below) generates the same set
               of random numbers for successive runs.&nbsp;
               This is useful during debugging.&nbsp;
               We add <span class=code>srand</span> to
               generate a different set of random numbers every run.</p>
               <p>
               For example, the following program outputs the same results every run:
               <table width="45%">
               <tr>
               <td>
               <br />
               <pre>
 <span class=high>#include &lt;stdlib.h&gt;</span>
 #include &lt;stdio.h&gt;

 int main ( ) {
     int i;

     for (i = 0; i &lt; 10 ; i++)
         printf("Random number %d is %d\n", i+1, <span class=high>rand()</span>);&nbsp;
     return 0;
 }</pre><br /></td></tr></table>
               The following program prints 10 pseudo-random integers between <span class=code>6</span> and <span class=code>100</span> inclusive:
               <table width="45%">
               <tr>
               <td>
               <br />
               <pre>
 <span class=high>#include &lt;stdlib.h&gt;</span>
 #include &lt;stdio.h&gt;

 int main ( ) {
     int i, n, a = 6, b = 100;

     for (i = 0; i &lt; 10 ; i++) {
         n = a + <span class=high>rand()</span> % (b + 1 - a);
         printf("Random number %d is %d\n", i+1, n);&nbsp;
     }
     return 0;
 }</pre><br /></td></tr></table>
               The following program prints 10 pseudo-random floating-point numbers between <span class=code>3.0</span> and <span class=code>100.0</span> inclusive:
               <table width="45%">
               <tr>
               <td>
               <br />
               <pre>
 <span class=high>#include &lt;stdlib.h&gt;</span>
 #include &lt;stdio.h&gt;

 int main ( ) {
     int i;
     double x, a = 3.0, b = 100.0;

     for (i = 0; i &lt; 10 ; i++) {
         x = a + ((double) <span class=high>rand()</span> / RAND_MAX * (b - a));&nbsp;
         printf("Random number %d is %.2lf\n", i+1, x);&nbsp;
     }
     return 0;
 }</pre><br /></td></tr></table></p>

               <p class="ssection">Random Number Seed</p>
               <p>
               <span class=code>srand</span> sets the seed for the random number generator.&nbsp;
               The prototype is
               <pre class=defin>
 int srand ( unsigned int seed );</pre>
               We call <span class=code>srand</span>
               before the first call to <span class=code>rand</span>,
               typically at the start of our program.&nbsp; We use
               <span class=code>time(NULL)</span>
               to generate a unique time-based seed for each
               new run.</p>
               <p>
               The following program outputs a different set of random numbers with every run:
               <table width="45%">
               <tr>
               <td>
               <br />
               <pre>
 <span class=high>#include &lt;stdlib.h&gt;</span>
 #include &lt;stdio.h&gt;
 <span class=high>#include &lt;time.h&gt;</span>

 int main ( ) {
     int i;

     <span class=high>srand(time(NULL));</span>
     for (i = 0; i &lt; 10 ; i++)
         printf("Random number %d is %d\n", i+1, rand());&nbsp;
     return 0;
 }</pre><br /></td></tr></table>
               The prototype for <span class=code>time</span> is in <span class=code>&lt;time.h&gt;</span>.&nbsp;
               </p>
               <br />

               <p id=tim class="section">time</p>
               <p>
               The prototypes for the time library functions are in <span class=code>&lt;time.h&gt;</span>.
               </p>
               <p class="ssection">time</p>
               <p>
               <span class=code>time</span>
               returns the current calendar time.&nbsp;
               The prototype is
               <pre>
 time_t time ( time_t *tptr );</pre>
               <span class=code>time_t</span> is a type that it is sufficiently
               large to hold time values (for example, <span class=code>unsigned long</span>).&nbsp;
               <span class=code>time</span> also assigns the current calendar
               time to <span class=code>*tptr</span>, if <span class=code>tptr</span>
               is not <span class=code>NULL</span>.&nbsp; If an error occurs,
               <span class=code>time</span> returns the value
               <span class=code>(time_t)(-1)</span>.&nbsp;
               <p>
               We use <span class=code>time(NULL)</span> as the argument to <span class=code>srand</span>
               in order to generate a unique seed: <span class=code>srand(time(NULL))</span>.
               </p>
               <p class="ssection">difftime</p>
               <p>
               <span class=code>difftime</span>
               returns the difference in seconds between two calendar
               time arguments.&nbsp;
               The prototype is
               <pre>
 double difftime ( time_t, time_t );</pre>
               <span class=code>time_t</span> is a type that it is sufficiently
               large to hold time values (for example, <span class=code>unsigned long</span>).&nbsp;
               </p>
               <p>
               For example, the following program returns
               the time in seconds taken to execute the
               central loop
               <table width="95%">
               <tr>
               <td width="50%">
               <br />
               <pre>
 <span class=high>#include &lt;time.h&gt;</span>
 #include &lt;stdio.h&gt;
 #define NITER 1000

 int main ( ) {
     double x;
     int i, j, k;
     time_t t0, t1;

     x = 1;
     t0 = time(NULL);
     for (i = 0; i &lt; NITER; i++)
         for (j = 0; j &lt; NITER; j++)
             for (k = 0; k &lt; NITER; k++)
                 x = x * 1.0000000001;
     t1 = time(NULL);
     printf("Elapsed time is %.1lf secs\n",&nbsp;
            <span class=high>difftime(t1, t0)</span>);&nbsp;
     printf("Value of x is %.10lf\n", x);

     return 0;
 }</pre><br /></td>
               <td width="50%">
               <br />
               <pre class=result>
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 Elapsed time is 40.0 secs
 Value of x is 1.1051709272&nbsp;
 &nbsp;
 &nbsp;
 </pre><br /></td></tr></table>
               </p>
               <p class="ssection">clock</p>
               <p>
               <span class=code>clock</span>
               returns the approximate process time.&nbsp;
               The prototype is
               <pre class=defin>
 clock_t clock ( void );</pre>
               <span class=code>clock_t</span> is a type that
               holds time values (for example, <span class=code>unsigned long</span>).&nbsp;
               We divide the time value by <span class=code>CLOCKS_PER_SEC</span> to obtain
               the process time in seconds.
               </p>
               <p>
               For example, the following program returns
               the process time in seconds taken to execute the
               central loop
               <table width="95%">
               <tr>
               <td width="50%">
               <br />
               <pre>
 <span class=high>#include &lt;time.h&gt;</span>
 #include &lt;stdio.h&gt;
 #define NITER 100

 int main ( ) {
     double x;
     int i, j, k;
     time_t t0, t1;
     <span class=high>clock_t c0, c1;</span>

     x = 1;
     t0 = time(NULL);
     c0 = <span class=high>clock()</span>;
     for (i = 0; i &lt; NITER; i++)
         for (j = 0; j &lt; NITER; j++)
             for (k = 0; k &lt; NITER; k++)
                 x = x * 1.0000000001;
     t1 = time(NULL);
     c1 = <span class=high>clock()</span>;
     printf("Elapsed time is %.1lf secs\n",
            difftime(t1, t0));&nbsp;
     printf("Process time is %.3lf secs\n",
            (double)(c1-c0)/CLOCKS_PER_SEC);&nbsp;
     printf("Value of x is %.10lf\n", x);

     return 0;
 }</pre><br /></td>
               <td width="50%">
               <br />
               <pre class=result>
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 Elapsed time is 1.0 secs
 Process time is 0.040 secs
 Value of x is 1.0001000050&nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 </pre><br /></td></tr></table>
               Note the cast to a <span class=code>double</span>.</p>
               <br />

               <p id="exa" class="section">In-Class Practice</p>
               <p>
               Try the practice problem in <a href="h9.html" tppabs="http://cs.senecac.on.ca/~btp100/pages/handouts/h9.html">Handout 9</a>.&nbsp;
               </p>
               <br />

               <p id=mat class="section">Math</p>
               <p>
               The prototypes for the math functions are in <span class=code>&lt;math.h&gt;</span>.&nbsp;
               To compile on phobos a program containing a math function,
               we add the <span class=code>-lm</span> option to the compile command
               <pre class=defin>
 cc myProgram.c -lm</pre>
               </p>

               <p class="ssection">Floating-Point Absolute Value</p>
               <p>
               <span class=code>fabs, fabsf, fabsl</span> returns the absolute value of the floating-point value received.&nbsp;
               Their prototypes are
               <pre class=defin>
 double fabs ( double );
 float fabsf ( float );
 long double fabsl ( long double );</pre>
               For example, the following program produces the output on the right
               <table width="95%">
               <tr>
               <td width="50%">
               <br />
               <pre>
 <span class=high>#include &lt;math.h&gt;</span>
 #include &lt;stdio.h&gt;

 int main ( ) {
     double x = -12.5;

     printf("|%lf| is %lf\n", x, <span class=high>fabs(x)</span>);&nbsp;
     return 0;
 }</pre><br /></td>
               <td width="50%">
               <br />
               <pre class=result>
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 |-12.500000| is 12.500000
 &nbsp;
 </pre><br /></td></tr></table>
               </p>

               <p class="ssection">Floor</p>
               <p>
               <span class=code>floor, floorf, floorl</span> return
               the largest integer value not greater than the value received.&nbsp;
               Their prototypes are
               <pre class=defin>
 double floor ( double );
 float floorf ( float );
 long double floorl ( long double );</pre>
               For example, <span class=code>floor(16.3)</span> has a value of <span class=code>16.0</span>.

               <p class="ssection">Ceiling</p>
               <p>
               <span class=code>ceil, ceilf, ceill</span> return
               the smallest integer value not less than the value received.&nbsp;
               Their prototypes are
               <pre class=defin>
 double ceil ( double );
 float ceilf ( float );
 long double ceill ( long double );</pre>
               For example, <span class=code>ceil(16.3)</span> has a value of <span class=code>17.0</span>.

               <p class="ssection">Rounding</p>
               <p>
               <span class=code>round, roundf, roundl</span> return
               the integer value closest to the value received.&nbsp;
               Their prototypes are
               <pre class=defin>
 double round ( double );
 float roundf ( float );
 long double roundl ( long double );</pre>
               For example, <span class=code>round(16.3)</span> has a value of <span class=code>16.0</span>,
               while <span class=code>round(-16.3)</span> has a value of <span class=code>-16.0</span>.

               <p class="ssection">Truncating</p>
               <p>
               <span class=code>trunc, truncf, truncl</span> return
               the integer component of the value received.&nbsp;
               Their prototypes are
               <pre class=defin>
 double trunc ( double );
 float truncf ( float );
 long double truncl ( long double );</pre>
               For example, <span class=code>trunc(16.7)</span> has a value of <span class=code>16.0</span>,
               while <span class=code>round(-16.7)</span> has a value of <span class=code>-16.0</span>.

               <p class="ssection">Square Root</p>
               <p>
               <span class=code>sqrt, sqrtf, sqrtl</span> return the square root of the
               floating-point value received.&nbsp;
               Their prototypes are
               <pre class=defin>
 double sqrt ( double );
 float sqrtf ( float );
 long double sqrtl ( long double );</pre>
               For example, <span class=code>sqrt(16.0)</span> has a value of <span class=code>4.0</span>.

               <p class="ssection">Powers</p>
               <p>
               <span class=code>pow, powf, powl</span> return the result of the first floating-point value
               received raised to the power of the second floating-point value.&nbsp;
               Their prototypes are
               <pre class=defin>
 double pow ( double base, double exponent );
 float powf ( float base, float exponent );
 long double powl ( long double base, long double exponent );</pre>
               </p>
               <p>
               For example, the following program produces the output on the right
               <table width="95%">
               <tr>
               <td width="50%">
               <br />
               <pre>
 <span class=high>#include &lt;math.h&gt;</span>
 #include &lt;stdio.h&gt;

 int main ( ) {
     double base = 12.5;

     printf("%lf^3 is %lf\n", base, <span class=high>pow(base,3)</span>);&nbsp;
     return 0;
 }</pre><br /></td>
               <td width="50%">
               <br />
               <pre class=result>
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 &nbsp;
 12.500000^3 is 1953.125000
 &nbsp;
 </pre><br /></td></tr></table>
               </p>

               <p class="ssection">Logarithms</p>
               <p>
               <span class=code>log, logf, logl</span> return
               the natural logarithm of the floating-point
               value received.&nbsp; Their prototypes are
               <pre class=defin>
 double log ( double );
 float logf ( float );
 long double logl ( long double );</pre>
               For example, <span class=code>log(2.718281828459045)</span> has a value of <span class=code>1.0</span>.

               <p class="ssection">Powers of e</p>
               <p>
               <span class=code>exp, expf, expl</span> return
               the natural anti-logarithm of the floating-point
               value received.&nbsp; Their prototypes are
               <pre class=defin>
 double exp ( double );
 float expf ( float );
 long double expl ( long double );</pre>
               For example, <span class=code>exp(1.0)</span> has a value of <span class=code>2.718281828459045</span>.
               </p>
               <br />

               <p id=cha class="section">Character</p>
               <p>
               The prototypes for  character analysis and
               character manipulation functions are in <span class=code>&lt;ctype.h&gt;</span>.&nbsp;
               In checking for a true value, we check that the
               value is not false: that is, <span class=code>value != 0</span>,
               rather than assume that true is represented by
               unity.</p>
               <p class="ssection">islower</p>
               <p>
               <span class=code>islower</span> returns true if the character received is lower case,
               false otherwise.&nbsp; The prototype is
               <pre class=defin>
 int islower ( int );</pre>
               <p>
               For example, <span class=code>islower('d')</span> returns a true value;
               <span class=code>islower('E')</span> returns a false value.</p>

               <p class="ssection">isupper</p>
               <p>
               <span class=code>isupper</span> returns true if the character received is upper case, otherwise
               false.&nbsp; The prototype is
               <pre class=defin>
 int isupper ( int );</pre>
               <p>
               For example, <span class=code>isupper('d')</span> returns a false value;
               <span class=code>isupper('E')</span> returns a true value.</p>

               <p class="ssection">tolower</p>
               <p>
               <span class=code>tolower</span> returns the lower case of the character received,
               if possible; otherwise the value received unchanged.&nbsp; The prototype is
               <pre class=defin>
 int tolower ( int );</pre>
               <p>
               For example, <span class=code>tolower('D')</span> returns <span class=code>'d'</span>;
               <span class=code>tolower(';')</span> returns <span class=code>';'</span>.</p>

               <p class="ssection">toupper</p>
               <p>
               <span class=code>toupper</span> returns the upper case of the character received,
               if possible; otherwise the value received unchanged.&nbsp; The prototype is
               <pre class=defin>
 int toupper ( int );</pre>
               <p>
               For example, <span class=code>toupper('d')</span> returns <span class=code>'D'</span>;
               <span class=code>toupper(';')</span> returns <span class=code>';'</span>.</p>

               <p class="ssection">isalpha</p>
               <p>
               <span class=code>isalpha</span> returns true if the character received is alphabetic,
               false otherwise.&nbsp; The prototype is
               <pre class=defin>
 int isalpha ( int );</pre>
               <p>
               For example, <span class=code>isalpha('d')</span> returns true;
               <span class=code>isalpha('6')</span> returns false.</p>

               <p class="ssection">isdigit</p>
               <p>
               <span class=code>isdigit</span> returns true if the character received is a digit,
               false otherwise.&nbsp; The prototype is
               <pre class=defin>
 int isdigit ( int );</pre>
               <p>
               For example, <span class=code>isdigit('d')</span> returns false;
               <span class=code>isdigit('6')</span> returns true.</p>

               <p class="ssection">isspace</p>
               <p>
               <span class=code>isspace</span> returns true if the character received is a
               whitespace character,
               false otherwise.&nbsp; The prototype is
               <pre class=defin>
 int isspace ( int );</pre>
               <p>
               For example, <span class=code>isspace('d')</span> returns false;
               <span class=code>isspace(' ')</span> returns true.&nbsp;
               Whitespace characters are <span class=code>' ', '\t', '\n', '\v',</span> and
               <span class=code> '\f'</span>.</p>

               <p class="ssection">isblank</p>
               <p>
               <span class=code>isblank</span> returns true if the character received is a space
               or tab, otherwise
               false.&nbsp; The prototype is
               <pre class=defin>
 int isblank ( int );</pre>
               <p>
               For example, <span class=code>isblank('\t')</span> returns true;  <span class=code>isblank('\n')</span> returns false.</p>
               <br />

               <p id=exe class="section">Exercises</p>
               <p>
               <ul>
               <li>Complete workshop 6 on <a href="w6.html" tppabs="http://cs.senecac.on.ca/~btp100/pages/workshops/w6.html">Simple Games</a>,</li>
               <li>Try some of the problems on the Practice Page <a href="index-5.html" tppabs="http://cs.senecac.on.ca/~btp100/pages/practice/index.html">here</a>.</li>
               </ul>
               </p>
               <br />
               <br />
               <br />
               </td>
            </tr>
         </table>
      </td>
   </tr>

   <!-- Footer -->
   <tr>
      <td class="tbody">
         <table cellpadding="1" width="90%" align="center">
            <tr>
               <td width="50%" class="text3">
                  <script language="javascript">
                  var lh = document.location.href;
                  document.write(lh)
                  </script>&nbsp;&nbsp;
               </td>
               <td width="50%" align="right" class="text3">
                  <script language="javascript">
                  var lm = document.lastModified.slice(0,-3);
                  document.write("Last Modified: " +lm)
                  </script>&nbsp;&nbsp;
               </td>
            </tr>
         </table>
      </td>
   </tr>
</table>

</body>
</html>